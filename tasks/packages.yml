---
- name: install favorite packages
  apt:
    pkg: "{{item}}"
    state: installed
    update_cache: yes
  with_items:
    - build-essential
    - git
    - htop
    - ipython
    - python-dev
    - python-pip
    - rubygems-integration
    - tree
    - vim
  sudo: true
  tags:
    - packages

- name: install pip packages via pip
  pip:
    state: latest
    name: "{{item}}"
    extra_args: "--user"
  sudo: false
  with_items: pip_packages
  tags:
    - pip
