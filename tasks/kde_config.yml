---
# configures KDE dotfiles
# This folder isn't automatically created after 
# installing `kubuntu-desktop`; perhaps a GUI login is required.
- name: ensure kde config dir exists
  file:
    dest: "~{{ username }}/.kde/share/config/"
    state: directory
    owner: "{{username}}"
    mode: 0700
  sudo: true
  sudo_user: "{{username}}"

# use custom 'xrandr' module to get screen resolution vars
- name: get custom facts
  action: xrandr

- name: copy share/config/kcmfonts file to local settings
  template:
    src: kcmfonts.j2
    dest: "~{{ username }}/.kde/share/config/kcmfonts"
    owner: "{{username}}"
    mode: 0600
  sudo: true
  sudo_user: "{{username}}"

# Configures Konsole dotfiles
- name: copy konsolerc
  copy: src=konsolerc dest="~{{username}}/.kde/share/config/konsolerc"
  tags:
    - konsole

- name: copy default profile
  copy: src=Shell.profile dest="~{{username}}/.kde/share/apps/konsole/Shell.profile"
  tags:
    - konsole

- name: copy custom color scheme
  copy: src=Linux.colorscheme dest="~{{username}}/.kde/share/apps/konsole/Linux.colorscheme"
  tags:
    - konsole

